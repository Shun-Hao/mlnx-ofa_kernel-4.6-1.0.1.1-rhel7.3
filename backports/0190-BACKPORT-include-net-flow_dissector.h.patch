From: Talat Batheesh <talatb@mellanox.com>
Subject: [PATCH] BACKPORT: include/net/flow_dissector.h

Change-Id: I8dec325cfcc43428ef314074f05d6e14501cfaf4
---
 include/net/flow_dissector.h | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

diff --git a/include/net/flow_dissector.h b/include/net/flow_dissector.h
index xxxxxxx..xxxxxxx 100644
--- a/include/net/flow_dissector.h
+++ b/include/net/flow_dissector.h
@@ -88,6 +88,7 @@
 #define flow_keys_have_l4 LINUX_BACKPORT(flow_keys_have_l4)
 #define flow_hash_from_keys LINUX_BACKPORT(flow_hash_from_keys)
 #define dissector_uses_key LINUX_BACKPORT(dissector_uses_key)
+#ifndef HAVE_SKB_FLOW_DISSECT
 #define skb_flow_dissector_target LINUX_BACKPORT(skb_flow_dissector_target)
 #define skb_flow_dissect_flow_keys LINUX_BACKPORT(skb_flow_dissect_flow_keys)
 #define __skb_flow_dissect LINUX_BACKPORT(__skb_flow_dissect)
@@ -106,7 +107,7 @@
 #define __get_hash_from_flowi6 LINUX_BACKPORT(__get_hash_from_flowi6)
 #define __get_hash_from_flowi4 LINUX_BACKPORT(__get_hash_from_flowi4)
 #define skb_get_hash_perturb LINUX_BACKPORT(skb_get_hash_perturb)
-
+#endif
 /**
  * struct flow_dissector_key_control:
  * @thoff: Transport header offset
@@ -414,5 +415,4 @@ void skb_flow_dissector_init(struct flow_dissector *flow_dissector,
 int init_default_flow_dissectors(void);
 
 #endif
-
 #endif
